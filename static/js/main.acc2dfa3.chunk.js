(this.webpackJsonppainel=this.webpackJsonppainel||[]).push([[0],{228:function(e,t,n){},231:function(e,t,n){},233:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(13),c=n(19),i=n(20),s=n(0),o=n.n(s),l=n(46),u=n.n(l),j=n(21),d=n(217),b=n.n(d),p=(n(228),n(92)),h=n(5),f=n(8),O=n(6),m=n(316),x=n(322),g=n(74),v=n(182),y=n(111),k=n(324),w=n(22),S=n(1),I=n(105),C=n(175),N=n(9),F=y.a.SubMenu;function T(){var e=Object(w.j)(),t=["files"],n=Object(s.useState)([]),r=Object(O.a)(n,2),a=r[0],c=r[1],i=function(t){var n=Object.assign({},(Object(I.a)(t),t));return Object(N.jsx)(y.a.Item,Object(S.a)(Object(S.a)({},n),{},{onClick:function(t){e(t.key)}}))},l=function(e){var t=e.icon,n=C;return o.a.createElement(n[t])};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(y.a,{mode:"inline",openKeys:a,onOpenChange:function(e){var n=e.find((function(e){return-1===a.indexOf(e)}));-1===t.indexOf(n)?c(e):c(n?[n]:[])},style:{height:"100%",borderRight:0},children:[{title:"Todos os Usu\xe1rios",key:"/allusers",icon:"TeamOutlined"},{title:"Loterias",key:"/",icon:"BookOutlined"},{title:"Coloca\xe7\xf5es",key:"/",icon:"FieldBinaryOutlined"}].map((function(e){return e.items?Object(N.jsx)(F,{title:e.title,icon:e.icon&&Object(N.jsx)(l,{icon:e.icon}),children:e.items.map((function(e){return e.items?Object(N.jsx)(F,{title:e.title,icon:e.icon&&Object(N.jsx)(l,{icon:e.icon}),children:e.items.map((function(e){return Object(N.jsx)(i,{icon:e.icon&&Object(N.jsx)(l,{icon:e.icon}),children:e.title},e.key)}))},e.key):Object(N.jsx)(i,{icon:e.icon&&Object(N.jsx)(l,{icon:e.icon}),children:e.title},e.key)}))},e.key):Object(N.jsx)(i,{icon:e.icon&&Object(N.jsx)(l,{icon:e.icon}),children:e.title},e.key)}))})})}n(231);function D(e){var t,n={icon:null!==(t=e.icon)&&void 0!==t?t:"PushpinOutlined"},r=function(e){var t=e.icon,n=C;return o.a.createElement(n[t])};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(r,Object(S.a)({},n))})}var E=n.p+"static/media/logo.67ed278d.png";function z(){var e,t,n=Object(w.j)(),r=Object(s.useState)(!1),a=Object(O.a)(r,2),c=a[0],i=a[1],o=x.a.Text;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:[Object(N.jsx)(g.a,{className:"menu",type:"primary",icon:Object(N.jsx)(D,{icon:"MenuOutlined"}),onClick:function(){return i(!0)}}),Object(N.jsx)("img",{onClick:function(){return n("/")},alt:"Logo",style:{maxHeight:"45px",display:"inline-block",cursor:"pointer"},src:E})]}),Object(N.jsxs)(v.b,{children:[Object(N.jsx)(o,{style:{color:"#FFF",fontSize:"12px"}}),Object(N.jsx)(y.a,{theme:"dark",mode:"horizontal",style:{flex:"auto",justifyContent:"end",backgroundColor:"#c28219"},selectable:!1,selectedKeys:"en"===sessionStorage.getItem("locale")?"en":"pt",children:Object(N.jsx)(y.a.SubMenu,{icon:Object(N.jsx)(D,{icon:"UserOutlined"}),title:null===(e=JSON.parse(sessionStorage.getItem("authDetails")))||void 0===e||null===(t=e.userDetails)||void 0===t?void 0:t.name.split(" ")[0],popupOffset:[0,0],theme:"light",children:Object(N.jsx)(y.a.Item,{onClick:function(){sessionStorage.setItem("authDetails",null),window.location.reload()},children:"Desconectar"},"loggout")},"user")})]}),Object(N.jsx)(k.a,{title:"Menu",placement:"left",open:c,onClose:function(){return i(!1)},children:Object(N.jsx)(T,{})})]})}n(233);var P=n(10),A=n(36),J=n(318),L=n(315);var B=function(e){var t;function n(e){var t,n=[],r=Object(A.a)(e);try{var a=function(){var e=t.value;void 0!==e.sorterName?n.push(Object(S.a)(Object(S.a)({},e),{},{sorter:function(t,n){return t[e.sorterName].toString().localeCompare(n[e.sorterName].toString())}})):n.push(e)};for(r.s();!(t=r.n()).done;)a()}catch(c){r.e(c)}finally{r.f()}return n}return Object(N.jsx)(J.a,Object(S.a)(Object(S.a)({},e),{},{size:"small",scroll:{y:null===e.heightContent?400:e.heightContent,x:!0},dataSource:e.dataSource,loading:e.loading||e.loadingReload,columns:void 0!==e.actions?[].concat(Object(P.a)(n(e.columns)),[{title:null!==(t=e.titleActions)&&void 0!==t?t:"",key:"action",render:function(t){return Object(N.jsx)(L.a,{justify:"end",children:e.actions(t)})}}]).filter((function(e){return!e.hidden})):Object(P.a)(n(e.columns)).filter((function(e){return!e.hidden}))}))},M=n(319),K=n(320),R=n(123),U=n(220);n(68);function H(e){try{var t=(e=e.split("T")[0]).split("-")[0],n=e.split("-")[1],r=e.split("-")[2];return"".concat(r,"/").concat(n,"/").concat(t)}catch(a){return"Data n\xe3o encontrada."}}function q(e){var t=e.split("/")[0],n=e.split("/")[1];return e.split("/")[2]+"-"+("0"+n).slice(-2)+"-"+("0"+t).slice(-2)}function G(e){var t=Object(s.useState)(e.defaultSearchFilter),n=Object(O.a)(t,2),r=n[0],a=n[1],c=M.a.RangePicker,i=e.searchFilters,o=e.searchData,l=e.setFilteredData,u=function(){var e=Object(f.a)(Object(h.a)().mark((function e(t){var n,a,c,i;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(n="object"===typeof t?t:t.toString())&&""!==n&&null!==r?(a=function(){return o.filter((function(e){var n=new Date(q(H(e[r]))).getTime();return console.log(q(H(e[r]))),console.log(H(e[r])),n>=new Date(t[0].format()).getTime()&&n<=new Date(t[1].format()).getTime()}))},c=function(){var e=new RegExp(n+".+$","i");try{return o.filter((function(t){return-1!==(t[r].toString().toLowerCase()+"a").search(e)}))}catch(t){}},i=[],i="updatedAtString"===r||"createdAtString"===r?a():c(),l(i)):l(null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(K.a,{layout:"vertical",children:[Object(N.jsxs)(L.a,{justify:"space-between",align:"top",children:[Object(N.jsxs)(v.b,{children:[Object(N.jsx)(K.a.Item,{children:Object(N.jsx)(R.a,{style:{width:"200px"},placeholder:"Procurar por",options:i,onChange:function(e){return a(e)}})}),Object(N.jsx)(K.a.Item,{children:"updatedAtString"===r||"createdAtString"===r?Object(N.jsx)(c,{allowClear:!0,onChange:function(e){return u(e)}}):Object(N.jsx)(U.a,{style:{width:"100%"},placeholder:"Procurar",allowClear:!0,onChange:function(e){return u(e.target.value)}})})]}),null!==e.extra?e.extra:""]}),null!==e.extraFilters?e.extraFilters:""]})}function Y(e){var t,n,r,a,c,i,s,o={onClick:null!==(t=e.onClick)&&void 0!==t?t:null,disabled:null!==(n=e.disabled)&&void 0!==n&&n,size:null!==(r=e.size)&&void 0!==r?r:"midlle",loading:null!==(a=e.loading)&&void 0!==a&&a,icon:null!==(c=e.icon)&&void 0!==c?c:Object(N.jsx)(N.Fragment,{}),title:null!==(i=e.title)&&void 0!==i?i:"",type:null!==(s=e.type)&&void 0!==s?s:"default"};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(g.a,{size:o.size,disabled:o.disabled,onClick:o.onClick,icon:o.icon,loading:o.loading,type:o.type,children:o.title})})}var Z=[{title:"Nome",dataIndex:"name",key:"name"},{title:"Usu\xe1rio",dataIndex:"userName",key:"userName"},{title:"CPF",dataIndex:"cpf",key:"cpf"},{title:"Telefone",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Email",dataIndex:"email",key:"email"},{title:"Status",dataIndex:"active",key:"active"}];function V(){var e=Object(s.useState)([]),t=Object(O.a)(e,2),n=t[0],r=(t[1],Object(s.useState)(null)),a=Object(O.a)(r,2),c=a[0],i=a[1];Object(w.j)();function o(){return(o=Object(f.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(G,{searchFilters:[{key:"name",label:"Nome",value:"name"},{key:"username",label:"Usu\xe1rio",value:"username"},{key:"email",label:"Email",value:"email"},{key:"cpf",label:"CPF",value:"cpf"},{key:"phone",label:"Telefone",value:"phone"}],searchData:n,setFilteredData:i}),Object(N.jsx)(B,{dataSource:null===n?[]:null!==c?c:n,loading:null===n,columns:Z,actions:function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Y,{onClick:function(){},icon:Object(N.jsx)(D,{icon:"EditOutlined"})})})}})]})}var W=m.a.Header,X=m.a.Content,$=m.a.Sider;function _(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(m.a,{children:[Object(N.jsx)(W,{theme:"light",style:{position:"fixed",zIndex:10,width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"#c28219"},children:Object(N.jsx)(z,{})}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)($,{width:240,breakpoint:"lg",theme:"light",collapsedWidth:0,trigger:null,className:"sider",style:{overflowY:"auto",overflowX:"hidden",height:"calc(100% - 64px)",left:0,background:"white",position:"fixed",marginTop:"64px"},children:Object(N.jsx)(T,{})}),Object(N.jsx)(m.a,{className:"pullright",children:Object(N.jsx)(X,{className:"background",children:Object(N.jsx)("div",{className:"content",children:Object(N.jsx)(V,{})})})})]})]})})}var Q=n(197);n(306);function ee(e){function t(e){return JSON.parse(sessionStorage.getItem(e))}switch(e){case 0:default:return t("tempData");case 1:return t("authDetails")}}function te(e,t,n){function r(e,t){sessionStorage.setItem(e,!0===n?JSON.stringify(t):t)}switch(e){case 0:default:return r("tempData",t);case 1:return r("authDetails",t)}}var ne=JSON.parse(sessionStorage.getItem("authDetails"));function re(){return ae.apply(this,arguments)}function ae(){return ae=Object(f.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce("".concat("https://o-bicho-api-prod.azurewebsites.net/api/","/Auth/RefreshToken"),"POST",{userId:ne.user.id,refreshToken:ne.refreshToken}).then(function(){var e=Object(f.a)(Object(h.a)().mark((function e(t){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.responseStatus){e.next=5;break}return sessionStorage.setItem("authDetails",JSON.stringify({userDetails:ne.user_details,userId:t.result.userId,token:t.result.token,refreshToken:t.result.refreshToken})),e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function ce(e,t,n,r){return ie.apply(this,arguments)}function ie(){return ie=Object(f.a)(Object(h.a)().mark((function e(t,n,r,a){var c,i,s,o;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},i={"Content-Type":"application/json",Authorization:"Bearer "+a},console.log(i),s={method:n,headers:i,body:JSON.stringify(r)},o={method:n,headers:i},e.next=7,fetch(t,"GET"!==n?s:o).then(function(){var e=Object(f.a)(Object(h.a)().mark((function e(t){var n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),401!==t.status){e.next=7;break}return e.next=4,re();case 4:!1===e.sent&&sessionStorage.setItem("authDetails",null),window.location.reload();case 7:return e.prev=7,e.next=10,t.json();case 10:return n=e.sent,e.abrupt("return",{result:n,responseStatus:t.status});case 14:if(e.prev=14,e.t0=e.catch(7),429!==t.status){e.next=22;break}return e.next=19,c(parseInt("5000"));case 19:case 22:return e.abrupt("return",{result:[],responseStatus:t.status,error:e.t0.toString()});case 23:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{result:[],responseStatus:e,error:"Error"}}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function se(){var e=x.a.Title,t=x.a.Text,n=Object(s.useState)(!1),r=Object(O.a)(n,2),a=r[0],c=r[1];function i(){return i=Object(f.a)(Object(h.a)().mark((function e(t){var n,r;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),n=Object(Q.a)(),e.prev=2,e.next=5,Object(Q.b)(n,t.email,t.password);case 5:r=e.sent,sessionStorage.setItem("auth",JSON.stringify(!0)),console.log(r.user.uid),r.user.getIdToken().then((function(e){ce("".concat("https://o-bicho-api-prod.azurewebsites.net/api/","Users/").concat(r.user.uid),"GET",{},e).then(function(){var t=Object(f.a)(Object(h.a)().mark((function t(n){return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n),te(1,{userDetails:n.result,userId:r.user.uid,token:e,refreshToken:r.user.refreshToken},!0),window.location.reload();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),c(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),c(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),i.apply(this,arguments)}return Object(N.jsx)("div",{className:"bodyLoginPage",children:Object(N.jsx)("div",{className:"login-page",children:Object(N.jsx)("div",{className:"FormLogin",children:Object(N.jsxs)(K.a,{onFinish:function(e){return function(e){return i.apply(this,arguments)}(e)},className:"login-form",children:[Object(N.jsx)(e,{level:2,children:"Entrar"}),Object(N.jsx)(t,{className:"textInfo",type:"secondary",children:"Painel do Administrador JB Premium"}),Object(N.jsx)("br",{}),Object(N.jsx)(t,{className:"textInfo2",children:"."}),Object(N.jsx)(K.a.Item,{name:"email",rules:[{required:!0,message:"Obrigat\xf3rio"}],children:Object(N.jsx)(U.a,{disabled:a,type:"text",className:"InputForm",placeholder:"Email"})}),Object(N.jsx)(K.a.Item,{name:"password",rules:[{required:!0,message:"Obrigat\xf3rio"}],children:Object(N.jsx)(U.a.Password,{disabled:a,type:"password",className:"InputForm",placeholder:"Senha"})}),Object(N.jsx)(g.a,{loading:a,type:"primary",htmlType:"submit",children:"Acessar"}),"'"]})})})})}n(222),n(323);n(218);var oe=n(321);s.Component,s.Component,n(317);var le=n(216),ue=n(214);n(307);function je(){var e=x.a.Title;return Object(N.jsx)("div",{className:"bodyLoadingLoginPage",children:Object(N.jsx)("div",{className:"loading-page",children:Object(N.jsx)("div",{className:"FormLoadingLogin",children:Object(N.jsxs)(L.a,{justify:"space-between",children:[Object(N.jsx)(ue.a,{size:"large"}),Object(N.jsx)(e,{level:2,children:"Acessando..."})]})})})})}function de(){Object(le.a)({apiKey:"AIzaSyBBrL5wC7VJjIKYtZHKIyMLCx1bdpZgwh4",authDomain:"o-bicho-b9eb5.firebaseapp.com",projectId:"o-bicho-b9eb5",storageBucket:"o-bicho-b9eb5.appspot.com",messagingSenderId:"222742091404",appId:"1:222742091404:web:3af29d7e840074fbaa8da9"});var e=Object(s.useState)(null),t=Object(O.a)(e,2),n=t[0],r=t[1];function a(){return(a=Object(f.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ee(1),r(null!==t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){(function(){return a.apply(this,arguments)})().then()}),[]),Object(N.jsx)(o.a.Fragment,{children:null===n?Object(N.jsx)(je,{}):!0===n?Object(N.jsx)(_,{}):Object(N.jsx)(se,{})})}n(308);var be=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),j.a.config({theme:{primaryColor:"#ffae32"}}),(a=t.call(this,e)).state={locale:b.a},a}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state.locale;return Object(N.jsx)(j.a,{locale:e,children:Object(N.jsx)(p.a,{children:Object(N.jsx)(o.a.StrictMode,{children:Object(N.jsx)(de,{})})})})}}]),n}(o.a.Component);u.a.render(Object(N.jsx)(be,{}),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.acc2dfa3.chunk.js.map